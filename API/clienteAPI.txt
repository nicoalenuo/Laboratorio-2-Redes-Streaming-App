const ServerIP = 127.0.0.1
const ServerPort = 2023

master = socket.tcp()

repeat
    sktControl, err = master.connect(ServerIP, ServerPort)
until err != 'failure'

desconectar = false




while (!desconectar):

    comando = ""
    while (comando != "CONECTAR"):
        comando = input()

    repeat
        comando, err = sktControl.send(comando)
        if err:
            sktControl.close()
            return
    until (comando = '')

    while (comando != "DESCONECTAR"):
        while (comando != "INTERRUMPIR" and comando != "DESCONECTAR"):
            comando = input()
            
        if (comando == "INTERRUMPIR"):
            repeat
                comando, err = sktControl.send(comando)
                if err:
                    sktControl.close()
                    return
            until (comando = '')

        while (comando != "CONTINUAR" and comando != "DESCONECTAR"):
            comando = input()

        if (comando == "CONTINUAR"):
            repeat
                comando, err = sktControl.send(comando)
                if err:
                    sktControl.close()
                    return
            until (comando = '')

    repeat
        comando, err = sktControl.send(comando)
        if err:
            sktControl.close()
            return
    until (comando = '')
    sktControl.close()
    desconectar = True




